<!DOCTYPE html>
<html>
    <% include ../Fixed/Header.ejs %>
    
    <body class="skin-black">
        <% include ../Fixed/HeaderLogo.ejs %>


        <div class="wrapper row-offcanvas row-offcanvas-left">
            <% include ../Fixed/NavBar.ejs %>

            <!-- Right side column. Contains the navbar and content of the page -->
            <aside class="right-side">    
                
                 <!-- Main content -->
                 <section class="content">                        
                    <div class="row">
                       <div class="col-md-12">
                           <!-- general form elements -->
                           <div class="box box-primary">
                               <div class="box-header">
                                   <h3 class="box-title">Edit Intent</h3>
                               </div><!-- /.box-header -->
                               <!-- form start -->
                               <form role="form">
                                   <div class="box-body">
                                       <div class="form-group">
                                           <label for="exampleInputEmail1">Tag</label>
                                           <input type="text" class="form-control" readonly="readonly" value="<%= intent.tag %>">
                                       </div>
                                       <div class="form-group">
                                           <label for="exampleInputPassword1">Title</label>
                                           <input type="text" class="form-control" readonly="readonly" value="<%= intent.title %>">
                                       </div>
                                       <div class="form-group">                                                                                   
                                            <table class="table table-bordered" id="tableI"> 
                                                <tr>
                                                    <th style="width: 90%">Response</th>
                                                    <th>Action</th>                                                       
                                                </tr>          
                                                <% intent.responses.forEach(function(customer){ %>
                                                    <tr>
                                                        <td><%= customer %></td>
                                                        <td><button class="btn btn-sm btn-danger">Delete <i class="fas fa-trash"></i></button></td>  
                                                    </tr>                                                            
                                                <% }) %>  
                                                <tr id="textB">
                                                    <td><input type="text" class="form-control newresponse" placeholder='Type new response'></td>
                                                    <td><button class="btn btn-sm btn-success appendB" type="button" onclick="BTNadd()">Add <i class="fas fa-save"></i></button></td>  
                                                </tr>                                                                           
                                            </table>
                                       </div>
                                   </div>
                                   <div class="box-footer text-center">
                                        <button type="submit" class="btn btn-primary btn-lg">Save</button>
                                    </div>
                               </form>
                           </div>
                       </div>
                    </div>
            </section><!-- /.content -->
             
            </aside><!-- /.right-side -->
        </div><!-- ./wrapper -->


        <% include ../Fixed/footer.ejs %>       

        <script>
          
            function BTNadd() {
                var textinp = $( '.newresponse' ).val();
                if(textinp.trim().length > 0){                  
                    var tr = $('#textB');
                    tr.css("background-color","#FF3700");
                    tr.fadeOut(400, function(){
                        tr.remove();
                    });
                    $( "#tableI" ).append('<tr><td>'+textinp+'</td><td><button class="btn btn-sm btn-danger">Delete <i class="fas fa-trash"></i></button></td></tr>')
                    $( "#tableI" ).append( '<tr id="textB"><td><input type="text" class="form-control newresponse" placeholder="Type new response"></td><td><button class="btn btn-sm btn-success" onclick="BTNadd()" type="button">Add <i class="fas fa-save"></i></button></td></tr>' );
                }             
            }
                  
        </script>
            
    </body>
</html>